import{$ as F,r as c,K as oe,L as te,j as i,A as T,o as C,c as le,G as f,T as z,f as t,d as n,e,k as ae,p as d,l as v,R as K,m as ie,x as ue,v as re}from"./index-Bt1HRCNa.js";function se(u){return F({url:"/FineCourse/FineCourse/list",method:"get",params:u})}function de(u){return F({url:"/FineCourse/FineCourse/"+u,method:"get"})}function ce(u){return F({url:"/FineCourse/FineCourse",method:"post",data:u})}function fe(u){return F({url:"/FineCourse/FineCourse",method:"put",data:u})}function pe(u){return F({url:"/FineCourse/FineCourse/"+u,method:"delete"})}const me={class:"app-container"},_e={class:"dialog-footer"},Ce=ue({name:"FineCourse"}),ve=Object.assign(Ce,{setup(u){const{proxy:p}=re(),N=c([]),m=c(!1),I=c(!0),b=c(!0),x=c([]),U=c(!0),P=c(!0),S=c(0),V=c(""),L=oe({form:{},queryParams:{pageNum:1,pageSize:10,findCourseId:null},rules:{}}),{queryParams:r,form:_,rules:Q}=te(L);function g(){I.value=!0,se(r.value).then(a=>{N.value=a.rows,S.value=a.total,I.value=!1})}function j(){m.value=!1,R()}function R(){_.value={fineId:null,findCourseId:null},p.resetForm("FineCourseRef")}function $(){r.value.pageNum=1,g()}function A(){p.resetForm("queryRef"),$()}function G(a){x.value=a.map(o=>o.fineId),U.value=a.length!=1,P.value=!a.length}function O(){R(),m.value=!0,V.value="添加精品课的课程id"}function q(a){R();const o=a.fineId||x.value;de(o).then(y=>{_.value=y.data,m.value=!0,V.value="修改精品课的课程id"})}function H(){p.$refs.FineCourseRef.validate(a=>{a&&(_.value.fineId!=null?fe(_.value).then(o=>{p.$modal.msgSuccess("修改成功"),m.value=!1,g()}):ce(_.value).then(o=>{p.$modal.msgSuccess("新增成功"),m.value=!1,g()}))})}function B(a){const o=a.fineId||x.value;p.$modal.confirm('是否确认删除精品课的课程id编号为"'+o+'"的数据项？').then(function(){return pe(o)}).then(()=>{g(),p.$modal.msgSuccess("删除成功")}).catch(()=>{})}function J(){p.download("FineCourse/FineCourse/export",{...r.value},`FineCourse_${new Date().getTime()}.xlsx`)}return g(),(a,o)=>{const y=i("el-input"),D=i("el-form-item"),s=i("el-button"),E=i("el-form"),w=i("el-col"),M=i("right-toolbar"),W=i("el-row"),k=i("el-table-column"),X=i("el-table"),Y=i("pagination"),Z=i("el-dialog"),h=T("hasPermi"),ee=T("loading");return C(),le("div",me,[f(n(E,{model:t(r),ref:"queryRef",inline:!0,"label-width":"68px"},{default:e(()=>[n(D,{label:"精品课的课程id",prop:"findCourseId"},{default:e(()=>[n(y,{modelValue:t(r).findCourseId,"onUpdate:modelValue":o[0]||(o[0]=l=>t(r).findCourseId=l),placeholder:"请输入精品课的课程id",clearable:"",onKeyup:ae($,["enter"])},null,8,["modelValue"])]),_:1}),n(D,null,{default:e(()=>[n(s,{type:"primary",icon:"Search",onClick:$},{default:e(()=>[d("搜索")]),_:1}),n(s,{icon:"Refresh",onClick:A},{default:e(()=>[d("重置")]),_:1})]),_:1})]),_:1},8,["model"]),[[z,t(b)]]),n(W,{gutter:10,class:"mb8"},{default:e(()=>[n(w,{span:1.5},{default:e(()=>[f((C(),v(s,{type:"primary",plain:"",icon:"Plus",onClick:O},{default:e(()=>[d("新增")]),_:1})),[[h,["FineCourse:FineCourse:add"]]])]),_:1}),n(w,{span:1.5},{default:e(()=>[f((C(),v(s,{type:"success",plain:"",icon:"Edit",disabled:t(U),onClick:q},{default:e(()=>[d("修改")]),_:1},8,["disabled"])),[[h,["FineCourse:FineCourse:edit"]]])]),_:1}),n(w,{span:1.5},{default:e(()=>[f((C(),v(s,{type:"danger",plain:"",icon:"Delete",disabled:t(P),onClick:B},{default:e(()=>[d("删除")]),_:1},8,["disabled"])),[[h,["FineCourse:FineCourse:remove"]]])]),_:1}),n(w,{span:1.5},{default:e(()=>[f((C(),v(s,{type:"warning",plain:"",icon:"Download",onClick:J},{default:e(()=>[d("导出")]),_:1})),[[h,["FineCourse:FineCourse:export"]]])]),_:1}),n(M,{showSearch:t(b),"onUpdate:showSearch":o[1]||(o[1]=l=>K(b)?b.value=l:null),onQueryTable:g},null,8,["showSearch"])]),_:1}),f((C(),v(X,{data:t(N),onSelectionChange:G},{default:e(()=>[n(k,{type:"selection",width:"55",align:"center"}),n(k,{label:"id",align:"center",prop:"fineId"}),n(k,{label:"精品课的课程id",align:"center",prop:"findCourseId"}),n(k,{label:"操作",align:"center","class-name":"small-padding fixed-width"},{default:e(l=>[f((C(),v(s,{link:"",type:"primary",icon:"Edit",onClick:ne=>q(l.row)},{default:e(()=>[d("修改")]),_:2},1032,["onClick"])),[[h,["FineCourse:FineCourse:edit"]]]),f((C(),v(s,{link:"",type:"primary",icon:"Delete",onClick:ne=>B(l.row)},{default:e(()=>[d("删除")]),_:2},1032,["onClick"])),[[h,["FineCourse:FineCourse:remove"]]])]),_:1})]),_:1},8,["data"])),[[ee,t(I)]]),f(n(Y,{total:t(S),page:t(r).pageNum,"onUpdate:page":o[2]||(o[2]=l=>t(r).pageNum=l),limit:t(r).pageSize,"onUpdate:limit":o[3]||(o[3]=l=>t(r).pageSize=l),onPagination:g},null,8,["total","page","limit"]),[[z,t(S)>0]]),n(Z,{title:t(V),modelValue:t(m),"onUpdate:modelValue":o[5]||(o[5]=l=>K(m)?m.value=l:null),width:"500px","append-to-body":""},{footer:e(()=>[ie("div",_e,[n(s,{type:"primary",onClick:H},{default:e(()=>[d("确 定")]),_:1}),n(s,{onClick:j},{default:e(()=>[d("取 消")]),_:1})])]),default:e(()=>[n(E,{ref:"FineCourseRef",model:t(_),rules:t(Q),"label-width":"80px"},{default:e(()=>[n(D,{label:"精品课的课程id",prop:"findCourseId"},{default:e(()=>[n(y,{modelValue:t(_).findCourseId,"onUpdate:modelValue":o[4]||(o[4]=l=>t(_).findCourseId=l),placeholder:"请输入精品课的课程id"},null,8,["modelValue"])]),_:1})]),_:1},8,["model","rules"])]),_:1},8,["title","modelValue"])])}}});export{ve as default};

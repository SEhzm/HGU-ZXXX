import{$ as k,_ as C,r as f,K as D,L as I,z as L,j as i,o as P,c as B,m as t,d as o,e as p,p as m,D as d,f as e,a3 as b,G as M,T as U,F as q,s as F,t as H}from"./index-LLBTlqfk.js";function R(s){return k({url:"/userNotice",method:"get",params:s})}const v=s=>(F("data-v-6f30581e"),s=s(),H(),s),$={style:{"margin-left":"20px"}},j={class:"pagination-container"},E={style:{"text-align":"center"}},G=v(()=>t("br",null,null,-1)),K={style:{"text-align":"center"}},A={style:{"margin-left":"25px"}},J=v(()=>t("br",null,null,-1)),O=v(()=>t("br",null,null,-1)),Q=["innerHTML"],W={__name:"noticeS",setup(s){const u=f(!1),g=f(0),w=D({form:{},queryParams:{pageNum:1,pageSize:8}}),{queryParams:r,form:l}=I(w),h=f([]),y=()=>{R(r.value).then(c=>{h.value=c.rows,g.value=c.total})},x=c=>{u.value=!0,l.value=c,console.log(l)};return L(()=>{y()}),(c,a)=>{const _=i("el-table-column"),S=i("el-table"),N=i("pagination"),T=i("el-tag"),z=i("el-button"),V=i("el-dialog");return P(),B(q,null,[t("div",$,[o(S,{data:h.value,style:{width:"100%",cursor:"pointer","font-size":"17px"},"row-style":{height:"80px"},onRowClick:x},{default:p(()=>[o(_,{prop:"",label:"","min-width":"100"}),o(_,{prop:"",label:"","min-width":"15"},{default:p(()=>[m("◉")]),_:1}),o(_,{prop:"noticeTitle",label:"公告/通知标题","min-width":"200"}),o(_,{"show-overflow-tooltip":"",prop:"create_time",label:"时间","min-width":"200"},{default:p(n=>[t("span",null,d(e(b)(n.row.create_time,"{y}-{m}-{d} {h}:{i}:{s}")),1)]),_:1})]),_:1},8,["data"]),t("div",j,[M(o(N,{layout:"prev, pager, next",background:"",total:g.value,page:e(r).pageNum,"onUpdate:page":a[0]||(a[0]=n=>e(r).pageNum=n),limit:e(r).pageSize,"onUpdate:limit":a[1]||(a[1]=n=>e(r).pageSize=n),onPagination:y},null,8,["total","page","limit"]),[[U,g.value>0]])])]),o(V,{title:"公告详情",modelValue:u.value,"onUpdate:modelValue":a[3]||(a[3]=n=>u.value=n),width:"1380px","append-to-body":"",class:"notice"},{default:p(()=>[t("h2",E,[m(d(e(l).noticeTitle)+" ",1),o(T,{size:"large",style:{"margin-left":"10px","font-size":"17px"}},{default:p(()=>[m(d(e(l).noticeType==="1"?"通知":"公告"),1)]),_:1})]),G,t("p",K,[t("span",null,"发布时间："+d(e(b)(e(l).create_time,"{y}-{m}-{d} {h}:{i}:{s}")),1),t("span",A,"作者："+d(e(l).create_by),1)]),J,O,t("p",{innerHTML:e(l).noticeContent,style:{"text-indent":"2em"}},null,8,Q),o(z,{onClick:a[2]||(a[2]=n=>u.value=!1),class:"dialog-footer"},{default:p(()=>[m("关 闭")]),_:1})]),_:1},8,["modelValue"])],64)}}},Y=C(W,[["__scopeId","data-v-6f30581e"]]);export{Y as default};
